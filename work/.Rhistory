q46.df = select(data, Q46:Q46_Codes)
q47.df = select(data, Q47)
q48.df = select(data, Q48)
q49.df = select(data, Q49)
q50.df = select(data, Q50)
# Chunk 4
# gather with tidyr: question frames into columns
# for ggplot and nested questions
# q = gather(q.df, "heading", "values", col:col)
q1 = gather(q1.df, "option", "response", 1)
q2 = gather(q2.df, "option", "response", 1)
q3 = gather(q3.df, "option", "response", 1)
q4 = gather(q4.df, "option", "response", 1)
q5 = gather(q5.df, "option", "response", 1)
q6 = gather(q6.df, "option", "response", 1)
q7 = gather(q7.df, "option", "response", 1:8)
q8 = gather(q8.df, "option", "response", 1:7)
q9 = gather(q9.df, "option", "response", 1)
q10 = gather(q10.df, "option", "response", 1:9)
q11 = gather(q11.df, "option", "response", 1:11)
q12 = gather(q12.df, "option", "response", 1:15)
q13 = gather(q13.df, "option", "response", 1)
q14 = gather(q14.df, "option", "response", 1)
q15 = gather(q15.df, "option", "response", 1)
q16 = gather(q16.df, "option", "response", 1)
q17 = gather(q17.df, "option", "response", 1)
q18 = gather(q18.df, "option", "response", 1:11)
q19 = gather(q19.df, "option", "response", 1)
q20 = gather(q20.df, "option", "response", 1)
q21 = gather(q21.df, "option", "response", 1)
q22 = gather(q22.df, "option", "response", 1:9)
q23 = gather(q23.df, "option", "response", 1:11)
q24 = gather(q24.df, "option", "response", 1:7)
q25 = gather(q25.df, "option", "response", 1:11)
q26 = gather(q1.df, "option", "response", 1)
q27 = gather(q27.df, "option", "response", 1:4)
q28 = gather(q28.df, "option", "response", 1)
q29 = gather(q29.df, "option", "response", 1:6)
q30 = gather(q30.df, "option", "response", 1:6)
q31 = gather(q31.df, "option", "response", 1)
q32 = gather(q32.df, "option", "response", 1)
q33 = gather(q33.df, "option", "response", 1)
# q34 = gather(q34.df, "option", "response", 1)
q35 = gather(q35.df, "option", "response", 1)
q36 = gather(q36.df, "option", "response", 1)
q37 = gather(q37.df, "option", "response", 1)
q38 = gather(q38.df, "option", "response", 1)
q39 = gather(q39.df, "option", "response", 1)
q40 = gather(q40.df, "option", "response", 1)
q41 = gather(q41.df, "option", "response", 1)
q42 = gather(q42.df, "option", "response", 1)
q43 = gather(q43.df, "option", "response", 1)
q44 = gather(q44.df, "option", "response", 1)
q45 = gather(q45.df, "option", "response", 1)
q46 = gather(q46.df, "option", "response", 1)
q47 = gather(q47.df, "option", "response", 1)
q48 = gather(q48.df, "option", "response", 1)
q49 = gather(q49.df, "option", "response", 1)
q50 = gather(q50.df, "option", "response", 1)
# Chunk 5
summary(q1.df)
ggplot(q1) + geom_bar(aes(x=response, fill=response))
# alternatively, summary(q1.df)
data %>%
group_by(Q1) %>%
summarise(count = n())
# by gender
q1.gen = data %>%
group_by(Q1, PPGENDER)
q1.gen %>%
summarise(count = n())
ggplot(q1.gen) + geom_bar(aes(x = Q1, fill = PPGENDER), position = "dodge")
# Chunk 6
summary(q2.df)
ggplot(q2) + geom_bar(aes(x=response, fill=response))
# by gender
q2.gen = data %>%
group_by(Q2, PPGENDER)
q2.gen %>%
summarise(count = n())
ggplot(q2.gen) + geom_bar(aes(x = Q2, fill = PPGENDER), position = "dodge")
# Chunk 7
summary(q3.df)
ggplot(q3) + geom_bar(aes(x=response, fill=response))
# Chunk 8
summary(q4.df)
ggplot(q4) + geom_bar(aes(x=response, fill=response))
# Chunk 9
summary(q5.df)
ggplot(q5) + geom_bar(aes(x=response, fill=response))
# Chunk 10
summary(q6.df)
ggplot(q6) + geom_bar(aes(x=response, fill=response))
# Chunk 11
ggplot(q7) + geom_bar(aes(x = response, fill = response), position = "dodge") + facet_wrap(~option)
summary(q7.df)
# by gender:
(q7.gen = data %>%
select(PPGENDER, Q7_1:Q7_7) %>%
gather("option", "response", Q7_1:Q7_7) %>%
group_by(PPGENDER, option, response)
)
# bar plot
ggplot(q7.gen) + geom_bar(aes(x = response, fill = PPGENDER), position = "dodge") + facet_wrap(~option)
# count
q7.gen %>%
summarise(count = n())
# Chunk 12
ggplot(q8) + geom_bar(aes(x = response, fill = response), position = "dodge") + facet_wrap(~option)
summary(q8.df)
# by gender:
(q.gen = data %>%
select(PPGENDER, Q8_1:Q8_7) %>%
gather("option", "response", Q8_1:Q8_7) %>%
group_by(PPGENDER, option, response)
)
# bar plot
ggplot(q.gen) + geom_bar(aes(x = response, fill = PPGENDER), position = "dodge") + facet_wrap(~option)
# count
q.gen %>%
summarise(count = n())
# Chunk 13
summary(q9.df)
ggplot(q9) + geom_bar(aes(x=response, fill=response))
# Chunk 14
ggplot(q10) + geom_bar(aes(x = response, fill = response), position = "dodge") + facet_wrap(~option)
summary(q10.df)
# Chunk 15
ggplot(q11) + geom_bar(aes(x = response, fill = response), position = "dodge") + facet_wrap(~option)
summary(q11.df)
# by gender:
(q.gen = data %>%
select(PPGENDER, Q11_1:Q11_11) %>%
gather("option", "response", Q11_1:Q11_11) %>%
group_by(PPGENDER, option, response)
)
# bar plot
ggplot(q.gen) + geom_bar(aes(x = response, fill = PPGENDER), position = "dodge") + facet_wrap(~option)
# count
q.gen %>%
summarise(count = n())
# Chunk 16
summary(q13.df)
ggplot(q13) + geom_bar(aes(x=response, fill=response))
# by gender
q13.gen = data %>%
group_by(Q13, PPGENDER)
q13.gen %>%
summarise(count = n())
ggplot(q13.gen) + geom_bar(aes(x = Q13, fill = PPGENDER), position = "dodge")
# Chunk 17
ggplot(q12) + geom_bar(aes(x = response, fill = response), position = "dodge") + facet_wrap(~option)
summary(q12.df)
# by gender:
(q.gen = data %>%
select(PPGENDER, Q12_1:Q12_15) %>%
gather("option", "response", Q12_1:Q12_15) %>%
group_by(PPGENDER, option, response)
)
# bar plot
ggplot(q.gen) + geom_bar(aes(x = response, fill = PPGENDER), position = "dodge") + facet_wrap(~option)
# count
q.gen %>%
summarise(count = n())
# Chunk 18
summary(q14.df)
ggplot(q14) + geom_bar(aes(x=response, fill=response))
# Chunk 19
summary(q15.df)
ggplot(q15) + geom_bar(aes(x=response, fill=response))
# by gender
q15.gen = data %>%
group_by(Q15, PPGENDER)
q15.gen %>%
summarise(count = n())
ggplot(q15.gen) + geom_bar(aes(x = Q15, fill = PPGENDER), position = "dodge")
# Chunk 20
summary(q16.df)
ggplot(q16) + geom_bar(aes(x=response, fill=response))
# by gender
q16.gen = data %>%
group_by(Q16, PPGENDER)
q16.gen %>%
summarise(count = n())
ggplot(q16.gen) + geom_bar(aes(x = Q16, fill = PPGENDER), position = "dodge")
# Chunk 21
summary(q17.df)
ggplot(q17) + geom_bar(aes(x=response, fill=response))
# by gender
q17.gen = data %>%
group_by(Q17, PPGENDER)
q17.gen %>%
summarise(count = n())
ggplot(q17.gen) + geom_bar(aes(x = Q17, fill = PPGENDER), position = "dodge")
# Chunk 22
ggplot(q18) + geom_bar(aes(x = response, fill = response), position = "dodge") + facet_wrap(~option)
summary(q18.df)
# by gender:
(q.gen = data %>%
select(PPGENDER, Q18_1:Q18_11) %>%
gather("option", "response", Q18_1:Q18_11) %>%
group_by(PPGENDER, option, response)
)
# bar plot
ggplot(q.gen) + geom_bar(aes(x = response, fill = PPGENDER), position = "dodge") + facet_wrap(~option)
# count
q.gen %>%
summarise(count = n())
# Chunk 23
summary(q19.df)
ggplot(q19) + geom_bar(aes(x=response, fill=response))
# by gender
q19.gen = data %>%
group_by(Q19, PPGENDER)
q19.gen %>%
summarise(count = n())
ggplot(q19.gen) + geom_bar(aes(x = Q19, fill = PPGENDER), position = "dodge")
# Chunk 24
summary(q20.df)
ggplot(q20) + geom_bar(aes(x=response, fill=response))
# by gender
q20.gen = data %>%
group_by(Q20, PPGENDER)
q20.gen %>%
summarise(count = n())
ggplot(q20.gen) + geom_bar(aes(x = Q20, fill = PPGENDER), position = "dodge")
# Chunk 25
summary(q21.df)
ggplot(q21) + geom_bar(aes(x=response, fill=response))
# by gender
q21.gen = data %>%
group_by(Q21, PPGENDER)
q21.gen %>%
summarise(count = n())
ggplot(q21.gen) + geom_bar(aes(x = Q21, fill = PPGENDER), position = "dodge")
# Chunk 26
ggplot(q22) + geom_bar(aes(x = response, fill = response), position = "dodge") + facet_wrap(~option)
summary(q22.df)
# by gender:
(q.gen = data %>%
select(PPGENDER, Q22_1:Q22_9) %>%
gather("option", "response", Q22_1:Q22_9) %>%
group_by(PPGENDER, option, response)
)
# bar plot
ggplot(q.gen) + geom_bar(aes(x = response, fill = PPGENDER), position = "dodge") + facet_wrap(~option)
# count
q.gen %>%
summarise(count = n())
# Chunk 27
ggplot(q23) + geom_bar(aes(x = response, fill = response), position = "dodge") + facet_wrap(~option)
summary(q23.df)
# by gender:
(q.gen = data %>%
select(PPGENDER, Q23_1:Q23_11) %>%
gather("option", "response", Q23_1:Q23_11) %>%
group_by(PPGENDER, option, response)
)
# bar plot
ggplot(q.gen) + geom_bar(aes(x = response, fill = PPGENDER), position = "dodge") + facet_wrap(~option)
# count
q.gen %>%
summarise(count = n())
# Chunk 28
ggplot(q24) + geom_bar(aes(x = response, fill = response), position = "dodge") + facet_wrap(~option)
summary(q24.df)
# Chunk 29
summary(q25.df)
ggplot(q25) + geom_bar(aes(x=response, fill=response), position = "dodge") + facet_wrap(~option)
# Chunk 30
summary(q26.df)
ggplot(q26) + geom_bar(aes(x=response, fill=response))
# Chunk 31
summary(q27.df)
ggplot(q27) + geom_bar(aes(x=response, fill=response), position = "dodge") + facet_wrap(~option)
# by gender:
(q.gen = data %>%
select(PPGENDER, Q27_1:Q27_4) %>%
gather("option", "response", Q27_1:Q27_4) %>%
group_by(PPGENDER, option, response)
)
# bar plot
ggplot(q.gen) + geom_bar(aes(x = response, fill = PPGENDER), position = "dodge") + facet_wrap(~option)
# count
q.gen %>%
summarise(count = n())
# Chunk 32
summary(q28.df)
ggplot(q28) + geom_bar(aes(x=response, fill=response))
# by gender
q28.gen = data %>%
group_by(Q28, PPGENDER)
q28.gen %>%
summarise(count = n())
ggplot(q28.gen) + geom_bar(aes(x = Q28, fill = PPGENDER), position = "dodge")
# Chunk 33
summary(q29.df)
ggplot(q29) + geom_bar(aes(x=response, fill=response), position = "dodge") + facet_wrap(~option)
# Chunk 34
summary(q30.df)
ggplot(q30) + geom_bar(aes(x=response, fill=response), position = "dodge") + facet_wrap(~option)
# Chunk 35
summary(q31.df)
ggplot(q31) + geom_bar(aes(x=response, fill=response))
# by gender
q31.gen = data %>%
group_by(Q31, PPGENDER)
q31.gen %>%
summarise(count = n())
ggplot(q31.gen) + geom_bar(aes(x = Q31, fill = PPGENDER), position = "dodge")
# Chunk 36
summary(q32.df)
ggplot(q32) + geom_bar(aes(x=response, fill=response))
q32.gen = data %>%
group_by(Q32, PPGENDER)
q32.gen %>%
summarise(count = n())
ggplot(q32.gen) + geom_bar(aes(x = Q32, fill = PPGENDER), position = "dodge")
# Chunk 37
summary(q33.df)
ggplot(q33) + geom_bar(aes(x=response, fill=response))
q33.gen = data %>%
group_by(Q33, PPGENDER)
q33.gen %>%
summarise(count = n())
ggplot(q33.gen) + geom_bar(aes(x = Q33, fill = PPGENDER), position = "dodge")
# Chunk 38
summary(hhm1.df)
summary(hhm2.df)
# Chunk 39
summary(q35.df)
ggplot(q35) + geom_bar(aes(x=response, fill=response))
# Chunk 40
summary(q36.df)
ggplot(q36) + geom_bar(aes(x=response, fill=response))
# Chunk 41
summary(q37.df)
ggplot(q37) + geom_bar(aes(x=response, fill=response))
# Chunk 42
summary(q38.df)
ggplot(q38) + geom_bar(aes(x=response, fill=response))
# Chunk 43
summary(q39.df)
ggplot(q39) + geom_bar(aes(x=response, fill=response))
# Chunk 44
summary(q40.df)
ggplot(q40) + geom_bar(aes(x=response, fill=response))
# Chunk 45
summary(q41.df)
ggplot(q41) + geom_bar(aes(x=response, fill=response))
# Chunk 46
summary(q42.df)
ggplot(q42) + geom_bar(aes(x=response, fill=response))
# Chunk 47
summary(q43.df)
ggplot(q43) + geom_bar(aes(x=response, fill=response))
# Chunk 48
summary(q44.df)
ggplot(q44) + geom_bar(aes(x=response, fill=response))
# Chunk 49
summary(q45.df)
ggplot(q45) + geom_bar(aes(x=response, fill=response))
# Chunk 50
summary(q46.df)
ggplot(q46) + geom_bar(aes(x=response, fill=response))
# Chunk 51
summary(q47.df)
ggplot(q47) + geom_bar(aes(x=response, fill=response))
# Chunk 52
summary(q48.df)
ggplot(q48) + geom_bar(aes(x=response, fill=response))
# Chunk 53
summary(q49.df)
ggplot(q49) + geom_bar(aes(x=response, fill=response))
# Chunk 54
summary(q50.df)
ggplot(q50) + geom_bar(aes(x=response, fill=response))
# Chunk 55
#' Q1 vs. Q13 table
#' Knowing influenza is different from stomach flu; vs. getting the flu vaccine
a = with(data, table(Q1, Q13))
print(a)
summary(a)
(q7.gen = data %>%
rename(PPGENDER, Q7_1 = "Bus", Q7_2:Q7_7) %>%
gather("option", "response", Bus:Q7_7) %>%
group_by(PPGENDER, option, response)
)
select(PPGENDER, Q7_1 = "Bus", Q7_2:Q7_7) %>%
gather("option", "response", Bus:Q7_7) %>%
group_by(PPGENDER, option, response)
)
(q7.gen = data %>%
select(PPGENDER, Q7_1 = "Bus", Q7_2:Q7_7) %>%
gather("option", "response", Bus:Q7_7) %>%
group_by(PPGENDER, option, response)
)
(q7.gen = data %>%
select(PPGENDER, "Bus" = Q7_1, Q7_2:Q7_7) %>%
gather("option", "response", Bus:Q7_7) %>%
group_by(PPGENDER, option, response)
)
(q7.gen = data %>%
select(PPGENDER, Q7_1:Q7_otherText) %>%
rename("Bus" = Q7_1,
"Carpool" = Q7_2,
"Subway" = Q7_3,
"Train" = Q7_4,
"Taxi" = Q7_5,
"Airplane" = Q7_6,
"Other" = Q7_7,
"Refused" = Q7_8,
"Other text" = Q7_otherText) %>%
gather("option", "response", Bus:Other) %>%
group_by(PPGENDER, option, response)
)
ggplot(q7.gen) + geom_bar(aes(x = response, fill = PPGENDER), position = "dodge") + facet_wrap(~option)
ggplot(q7) + geom_bar(aes(x = response, fill = response), position = "dodge") + facet_wrap(~option)
ggplot(q1.gen) + geom_bar(aes(x = Q1, fill = PPGENDER), position = "dodge")
ggplot(q3) + geom_bar(aes(x=response, fill=response))
ggplot(q4) + geom_bar(aes(x=response, fill=response))
summary(q4.df)
ggplot(q4) + geom_bar(aes(x=response, fill=response))
ggplot(q5) + geom_bar(aes(x=response, fill=response))
(q.gen = data %>%
select(PPGENDER, Q8_1:Q8_otherText) %>%
rename("Work" = Q8_1,
"School" = Q8_2,
"Shopping" = Q8_3,
"Visiting people" = Q8_4,
"Recreation" = Q8_5,
"Other" = Q8_6,
"Refused" = Q8_7,
"Other text" = Q8_8) %>%
gather("option", "response", Q8_1:Q8_7) %>%
group_by(PPGENDER, option, response)
)
(q.gen = data %>%
select(PPGENDER, Q8_1:Q8_otherText) %>%
rename("Work" = Q8_1,
"School" = Q8_2,
"Shopping" = Q8_3,
"Visiting people" = Q8_4,
"Recreation" = Q8_5,
"Other" = Q8_6,
"Refused" = Q8_7,
"Other text" = Q8_otherText) %>%
gather("option", "response", Q8_1:Q8_7) %>%
group_by(PPGENDER, option, response)
)
(q.gen = data %>%
select(PPGENDER, Q8_1:Q8_otherText) %>%
rename("Work" = Q8_1,
"School" = Q8_2,
"Shopping" = Q8_3,
"Visiting people" = Q8_4,
"Recreation" = Q8_5,
"Other" = Q8_6,
"Refused" = Q8_7,
"Other text" = Q8_otherText) %>%
gather("option", "response", Work:Refused) %>%
group_by(PPGENDER, option, response)
)
(q.gen = data %>%
select(PPGENDER, Q8_1:Q8_otherText) %>%
rename("Work" = Q8_1,
"School" = Q8_2,
"Shopping" = Q8_3,
"Visiting people" = Q8_4,
"Recreation" = Q8_5,
"Other" = Q8_6,
"Refused" = Q8_7,
"Other text" = Q8_otherText) %>%
gather("option", "response", Work:Other) %>%
group_by(PPGENDER, option, response)
)
# bar plot
ggplot(q.gen) + geom_bar(aes(x = response, fill = PPGENDER), position = "dodge") + facet_wrap(~option)
# count
q.gen %>%
summarise(count = n())
summary(q1.df)
ggplot(q1) + geom_bar(aes(x=response, fill=response))
# alternatively, summary(q1.df)
data %>%
group_by(Q1, Q2) %>%
summarise(count = n())
# by gender
q1.gen = data %>%
group_by(Q1, PPGENDER)
q1.gen %>%
summarise(count = n())
ggplot(q1.gen) + geom_bar(aes(x = Q1, fill = PPGENDER), position = "dodge")
data %>%
group_by(Q1, Q2) %>%
summarise(count = n())
data %>%
group_by(Q1) %>%
summarise(count = n())
table(Q1)
table(data$Q1)
table(data$Q1, data$Q2)
with(data, table(Q1, Q13)
with(data, table(Q1, Q13))
summary(a)
summary(with(data, table(Q1, Q13)))
with(data, table(Q1, Q13))
summary(with(data, table(Q1, Q13)))
with(data, table(Q1, Q2))
summary(with(data, table(Q1, Q2)))
with(data, table(Q1, Q13))
summary(with(data, table(Q1, Q13)))
