<<<<<<< HEAD
with(data2, table(Q28))
ggplot(data2[!is.na(data2$Q28), ]) + geom_bar(mapping = aes(x = Q28, fill = Q28), position = position_dodge())
# Chunk 33
Q29 <- data2 %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, Q29_1_A.parent.brings.the.child.to.work:Q29_6_Other) %>%
gather("q", "r", Q29_1_A.parent.brings.the.child.to.work:Q29_6_Other)
with(Q29, table(q, r))
q29 <- Q29 %>%
count(q, r)
# Chunk 34
Q30 <- data2 %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, Q30_1_I.bring.the.child.to.work:Q30_6_Other) %>%
gather("q", "r", Q30_1_I.bring.the.child.to.work:Q30_6_Other)
with(Q30, table(q, r))
q30 <- Q30 %>%
count(q, r)
# Chunk 35
with(data2, summary(Q31))
# by gender
with(data2, by(Q31, PPGENDER, summary))
# Chunk 36
with(data2, summary(Q32))
# by gender
with(data2, by(Q33, PPGENDER, summary))
# Chunk 37
with(data2, summary(Q33))
# by ethnicity
with(data2, by(Q33, PPETHM, summary))
# Chunk 38
with(data2, table(Q35))
# Chunk 39
with(data2, summary(Q36))
# Chunk 40
with(data2, summary(Q37))
# Chunk 41
with(data2, summary(Q38))
# Chunk 42
with(data2, summary(Q39))
# Chunk 43
with(data2, summary(Q40))
# Chunk 44
with(data2, summary(Q41))
# Chunk 45
with(data2, summary(Q42))
# Chunk 46
with(data2, summary(Q43))
# Chunk 47
with(data2, summary(Q44))
# Chunk 48
with(data2, summary(Q45))
# Chunk 49
with(data2, summary(Q46))
# Chunk 50
with(data2, summary(Q47))
# Chunk 51
with(data2, summary(Q48))
# Chunk 52
with(data2, summary(Q49))
# Chunk 53
with(data2, summary(Q50))
Q12 <- data2 %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, 75:91) %>%
gather("q", "r", Q12_1_Avoid.touching.my.eyes:Q12_15_Other)
with(Q12, table(q, r))
q12 <- Q12 %>%
count(q, r)
Q12 <- data2 %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, 75:91)
View(Q12)
Q12 <- data2 %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, 75:91) %>%
gather("q", "r", 'Q12_1_Avoid touching my eyes':'Q12_15_Other')
Q12 <- data2 %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, 75:91) %>%
gather("q", "r", 7:21)
View(Q12)
Q18 <- data2 %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, Q18_1_The.vaccine.costs.too.much:Q18_11_Refused) %>%
gather("q", "r", Q18_1_The.vaccine.costs.too.much:Q18_10_Other)
Q18 <- data2 %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, Q18_1_The.vaccine.costs.too.much:Q18_11_Refused) %>%
gather("q", "r", Q18_1_The.vaccine.costs.too.much:Q18_10_Other)
Q18 <- data2 %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, Q18_1_The.vaccine.costs.too.much:Q18_11_Refused)
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, 97:108)
Q18 <- data2 %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, 97:108)
View(Q18)
Q18 <- data2 %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, 97:108) %>%
gather("q", "r", 7:Q18_10_Other)
View(Q18)
Q22 <- data2 %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, 112:122) %>%
gather("q", "r", 7:Q22_9_Other)
with(Q22, table(q, r))
Q23 <- data2 %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, 123:Q23_11_Other) %>%
gather("q", "r", 7:Q23_11_Other)
Q24 <- data2 %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, 137:Q24_7_Refused) %>%
gather("q", "r", 7:Q24_6_Other)
# Chunk 1: setup
=======
>>>>>>> b2626b0d486b6e74c10eef32bf632e0c12a44332
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE)
# data2
source("data_cleaning.R")
setwd("~/git/banana-phone/work")
library(dplyr)
library(tidyr)
library(ggplot2)
library(psych)
#library(foreign)
# data2 <- read.csv("surveydata2.csv", stringsAsFactors = FALSE,
#                 na = c("#NULL!", "", "Refused"))
# unweighted data2 -- what is the difference?
#data2_unw <- read.csv("surveydata2_unw.csv", na = c("#NULL!", ""))
#data2_unw <- read.spss("data2file.sav", to.data2.frame = TRUE)
<<<<<<< HEAD
# Chunk 5
# Q1 summary
with(data2, table(Q1))
q1 <- data2 %>%
count(Q1)
# plot with this one
ggplot(data2[!is.na(data2$Q1), ]) + geom_bar(mapping = aes(x = Q1, fill = Q1))
# ggplot(q1, aes(x = Q1, y = n, fill = Q1)) + geom_bar(stat = 'identity')
# plot without na's
#ggplot(q1[!is.na(q1$Q1), ], aes(x = Q1, y = n, fill = Q1)) +
#  geom_bar(stat = 'identity', position = position_dodge())
# by gender, PPGENDER
with(data2, table(PPGENDER, Q1))
q1 <- data2 %>%
count(Q1, PPGENDER)
# plot
ggplot(data2[!is.na(data2$Q1), ]) + geom_bar(mapping = aes(x = Q1, fill = PPGENDER), position = position_dodge())
# ggplot(q1[!is.na(q1$Q1), ], aes(x = Q1, y = n, fill = PPGENDER)) +
#   geom_bar(stat = 'identity', position = position_dodge())
# plot with facet
ggplot(q1[!is.na(q1$Q1), ], aes(x = Q1, y = n, fill = Q1)) +
geom_bar(stat = 'identity', position = position_dodge()) + facet_wrap(~PPGENDER)
# by ethnicity, PPETHM
with(data2, table(PPETHM, Q1))
q1 <- data2 %>%
count(Q1, PPETHM)
# plot
ggplot(q1[!is.na(q1$Q1), ], aes(x = Q1, y = n, fill = PPETHM)) +
geom_bar(stat = 'identity', position = position_dodge())
# plot with facet
ggplot(q1[!is.na(q1$Q1), ], aes(x = Q1, y = n, fill = Q1)) +
geom_bar(stat = 'identity', position = position_dodge()) + facet_wrap(~PPETHM)
# by income, PPINCIMP
with(data2, table(PPINCIMP, Q1))
q1 <- data2 %>%
count(Q1, PPINCIMP)
# plot
ggplot(q1[!is.na(q1$Q1), ], aes(x = Q1, y = n, fill = PPINCIMP)) +
geom_bar(stat = 'identity', position = position_dodge())
# plot with facet
ggplot(q1[!is.na(q1$Q1), ], aes(x = Q1, y = n, fill = Q1)) +
geom_bar(stat = 'identity', position = position_dodge()) + facet_wrap(~PPINCIMP)
# Chunk 6
#
with(data2, table(Q2))
q2 <- data2 %>%
count(Q2)
ggplot(q2, aes(x = Q2, y = n, fill = Q2)) + geom_bar(stat = 'identity')
# by gender
with(data2, table(Q2, PPGENDER))
q2 <- data2 %>%
count(Q2, PPGENDER)
ggplot(q2, aes(x = Q2, y = n, fill = PPGENDER)) +
geom_bar(stat = 'identity', position = position_dodge())
# by ethnicity
with(data2, table(Q2, PPETHM))
q2 <- data2 %>%
count(Q2, PPETHM)
ggplot(q2, aes(x = Q2, y = n, fill = PPETHM)) +
geom_bar(stat = 'identity', position = position_dodge())
# by income
with(data2, table(Q2, PPINCIMP))
q2 <- data2 %>%
count(Q2, PPINCIMP)
ggplot(q2, aes(x = Q2, y = n, fill = PPINCIMP)) +
geom_bar(stat = 'identity', position = position_dodge())
# Chunk 7
# all
with(data2, table(Q3))
q3 <- data2 %>%
count(Q3)
ggplot(q3, aes(x = Q3, y = n, fill = Q3)) + geom_bar(stat = 'identity')
# by gender
with(data2, table(Q3, PPGENDER))
q3 <- data2 %>%
count(Q3, PPGENDER)
ggplot(q3, aes(x = Q3, y = n, fill = PPGENDER)) +
geom_bar(stat = 'identity', position = position_dodge())
# by ethnicity
with(data2, table(Q3, PPETHM))
q3 <- data2 %>%
count(Q3, PPETHM)
ggplot(q3, aes(x = Q3, y = n, fill = PPETHM)) +
geom_bar(stat = 'identity', position = position_dodge())
# by income
with(data2, table(Q3, PPINCIMP))
q3 <- data2 %>%
count(Q3, PPINCIMP)
ggplot(q3, aes(x = Q3, y = n, fill = PPINCIMP)) +
geom_bar(stat = 'identity', position = position_dodge())
# Chunk 8
# all
with(data2, table(Q4))
(
q4 <- data2 %>%
count(Q4)
)
ggplot(q4, aes(x = Q4, y = n, fill = Q4)) + geom_bar(stat = 'identity') +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
# by gender
with(data2, table(Q4, PPGENDER))
q4 <- data2 %>%
count(Q4, PPGENDER)
ggplot(q4, aes(x = Q4, y = n, fill = PPGENDER)) +
geom_bar(stat = 'identity', position = position_dodge()) +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
# by ethnicity
with(data2, table(Q4, PPETHM))
q4 <- data2 %>%
count(Q4, PPETHM)
ggplot(q4, aes(x = Q4, y = n, fill = PPETHM)) +
geom_bar(stat = 'identity', position = position_dodge()) +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
# by income
with(data2, table(Q4, PPINCIMP))
q4 <- data2 %>%
count(Q4, PPINCIMP)
ggplot(q4, aes(x = Q4, y = n, fill = PPINCIMP)) +
geom_bar(stat = 'identity', position = position_dodge()) +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
# Chunk 9
# all
with(data2, table(Q5))
q5 <- data2 %>%
count(Q5)
ggplot(q5, aes(x = Q5, y = n, fill = Q5)) + geom_bar(stat = 'identity')
# by gender
with(data2, table(PPGENDER, Q5))
q5 <- data2 %>%
count(Q5, PPGENDER)
ggplot(q5, aes(x = Q5, y = n, fill = PPGENDER)) +
geom_bar(stat = 'identity', position = position_dodge())
# by ethnicity
q5 <- data2 %>%
count(Q5, PPETHM)
ggplot(q5, aes(x = Q5, y = n, fill = PPETHM)) +
geom_bar(stat = 'identity', position = position_dodge())
# by income
q5 <- data2 %>%
count(Q5, PPINCIMP)
ggplot(q5, aes(x = Q5, y = n, fill = PPINCIMP)) +
geom_bar(stat = 'identity', position = position_dodge())
# Chunk 10
# all
with(data2, table(Q6))
q6 <- data2 %>%
count(Q6)
ggplot(q6, aes(x = Q6, y = n, fill = Q6)) + geom_bar(stat = 'identity')
# by gender
# with(data2, table(PPGENDER, Q6))
(q6 <- data2 %>%
count(Q6, PPGENDER)
)
ggplot(q6, aes(x = Q6, y = n, fill = PPGENDER)) +
geom_bar(stat = 'identity', position = position_dodge())
# by ethnicity
(q6 <- data2 %>%
count(Q6, PPETHM)
)
ggplot(q6, aes(x = Q6, y = n, fill = PPETHM)) +
geom_bar(stat = 'identity', position = position_dodge())
# by income
(q6 <- data2 %>%
count(Q6, PPINCIMP)
)
ggplot(q6, aes(x = Q6, y = n, fill = PPINCIMP)) +
geom_bar(stat = 'identity', position = position_dodge())
# Chunk 11
Q7 <- data2 %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, Q7_1_Bus:Q7_otherText) %>%
gather("q", "r", Q7_1_Bus:Q7_7_Other)
# Q7
with(Q7, table(q, r))
q7 <- Q7 %>%
count(q, r)
# flip coordinates
ggplot(q7[!is.na(q7$r), ], aes(x = r, y = n, fill = r)) +
geom_bar(stat = 'identity', position = position_dodge()) + facet_wrap(~q) + coord_flip()
# by gender
# with(Q7, table(PPGENDER, r, q))
(q7 <- Q7 %>%
group_by(PPGENDER, q, r) %>%
count(PPGENDER, q, r)
)
ggplot(q7[!is.na(q7$r), ], aes(x = r, y = n, fill = PPGENDER)) +
geom_bar(stat = 'identity', position = position_dodge()) + facet_wrap(~q)
# by ethnicity
# with(Q7, table(PPETHM, r, q))
(q7 <- Q7 %>%
group_by(PPETHM, q, r) %>%
count(PPETHM, q, r)
)
ggplot(q7[!is.na(q7$r), ], aes(x = r, y = n, fill = PPETHM)) +
geom_bar(stat = 'identity', position = position_dodge()) + facet_wrap(~q)
# by income
# with(Q7, table(q, r, PPINCIMP))
(q7 <- Q7 %>%
group_by(PPINCIMP, q, r) %>%
count(PPINCIMP, q, r)
)
ggplot(q7[!is.na(q7$r), ], aes(x = r, y = n, fill = PPINCIMP)) +
geom_bar(stat = 'identity', position = position_dodge()) + facet_wrap(~q)
# Chunk 12
Q8 <- data2 %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, Q8_1_Work:Q8_otherText) %>%
gather("q", "r", Q8_1_Work:Q8_6_Other)
with(Q8, table(q, r))
q8 <- Q8 %>%
count(q, r)
# Chunk 13
with(data2, table(Q9))
# Chunk 14
Q10 <- data2 %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, Q10_1_Bus:Q10_9_Refused) %>%
gather("q", "r", Q10_1_Bus:Q10_8_Other)
with(Q10, table(q, r))
q10 <- Q10 %>%
count(q, r)
# Chunk 15
Q11 <- data2 %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, Q11_1_Work:Q11_OtherText_Codes) %>%
gather("q", "r", Q11_1_Work:Q11_11_Other)
# all
with(Q11, table(q, r))
q11 <- Q11 %>%
count(q, r)
ggplot(q11[!is.na(q11$r), ], aes(x = r, y = n, fill = r)) +
geom_bar(stat = 'identity', position = position_dodge()) + facet_wrap(~q) +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
# by gender
# with(Q7, table(PPGENDER, r, q))
(q11 <- Q11 %>%
group_by(PPGENDER, q, r) %>%
count(PPGENDER, q, r)
)
ggplot(q11[!is.na(q11$r), ], aes(x = r, y = n, fill = PPGENDER)) +
geom_bar(stat = 'identity', position = position_dodge()) + facet_wrap(~q) +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
# by ethnicity
# with(Q7, table(PPETHM, r, q))
(q11 <- Q11 %>%
group_by(PPETHM, q, r) %>%
count(PPETHM, q, r)
)
ggplot(q11[!is.na(q11$r), ], aes(x = r, y = n, fill = PPETHM)) +
geom_bar(stat = 'identity', position = position_dodge()) + facet_wrap(~q) +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
# by income
# with(Q7, table(q, r, PPINCIMP))
(q11 <- Q11 %>%
group_by(PPINCIMP, q, r) %>%
count(PPINCIMP, q, r)
)
ggplot(q11[!is.na(q11$r), ], aes(x = r, y = n, fill = PPINCIMP)) +
geom_bar(stat = 'identity', position = position_dodge()) + facet_wrap(~q) +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
# Chunk 16
Q12 <- data2 %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, 75:91) %>%
gather("q", "r", 7:21)
with(Q12, table(q, r))
q12 <- Q12 %>%
count(q, r)
# Chunk 17
with(data2, table(Q13))
ggplot(data2[!is.na(data2$Q13), ]) + geom_bar(mapping = aes(x = Q13, fill = Q13), position = position_dodge())
# Chunk 18
with(data2, table(Q14))
ggplot(data2[!is.na(data2$Q14), ]) + geom_bar(mapping = aes(x = Q14, fill = Q14), position = position_dodge())
# by gender
with(data2, by(Q14, PPGENDER, summary))
# Chunk 19
with(data2, table(Q15))
ggplot(data2[!is.na(data2$Q15), ]) + geom_bar(mapping = aes(x = Q15, fill = Q15), position = position_dodge())
# Chunk 20
with(data2, table(Q16))
ggplot(data2[!is.na(data2$Q16), ]) + geom_bar(mapping = aes(x = Q16, fill = Q16), position = position_dodge())
# Chunk 21
with(data2, table(Q17))
ggplot(data2[!is.na(data2$Q17), ]) + geom_bar(mapping = aes(x = Q17, fill = Q17), position = position_dodge())
# Chunk 22
Q18 <- data2 %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, 97:108) %>%
gather("q", "r", 7:Q18_10_Other)
with(Q18, table(q, r))
q18 <- Q18 %>%
count(q, r)
# Chunk 23
with(data2, table(Q19))
ggplot(data2[!is.na(data2$Q19), ]) + geom_bar(mapping = aes(x = Q19, fill = Q19), position = position_dodge())
# Chunk 24
with(data2, table(Q20))
ggplot(data2[!is.na(data2$Q20), ]) + geom_bar(mapping = aes(x = Q20, fill = Q20), position = position_dodge())
# Chunk 25
with(data2, table(Q21))
ggplot(data2[!is.na(data2$Q21), ]) + geom_bar(mapping = aes(x = Q21, fill = Q21), position = position_dodge())
# Chunk 26
Q22 <- data2 %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, 112:122) %>%
gather("q", "r", 7:Q22_9_Other)
with(Q22, table(q, r))
q22 <- Q22 %>%
count(q, r)
# Chunk 27
Q23 <- data2 %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, 123:Q23_11_Other) %>%
gather("q", "r", 7:Q23_11_Other)
with(Q23, table(q, r))
q23 <- Q23 %>%
count(q, r)
# Chunk 28
Q24 <- data2 %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, 137:Q24_7_Refused) %>%
gather("q", "r", 7:Q24_6_Other)
with(Q24, table(q, r))
q24 <- Q24 %>%
count(q, r)
# Chunk 29
Q25 <- data2 %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, 145:Q25_11_Other) %>%
gather("q", "r", 7:Q25_11_Other)
with(Q25, table(q, r))
q25 <- Q25 %>%
count(q, r)
# Chunk 30
with(data2, table(Q26))
ggplot(data2[!is.na(data2$Q26), ]) + geom_bar(mapping = aes(x = Q26, fill = Q26), position = position_dodge())
# Chunk 31
Q27 <- data2 %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, 159:Q27_4_Other) %>%
gather("q", "r", 7:Q27_4_Other)
with(Q27, table(q, r))
q27 <- Q27 %>%
count(q, r)
# Chunk 32
with(data2, table(Q28))
ggplot(data2[!is.na(data2$Q28), ]) + geom_bar(mapping = aes(x = Q28, fill = Q28), position = position_dodge())
# Chunk 33
Q29 <- data2 %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, 166:Q29_6_Other) %>%
gather("q", "r", 7:Q29_6_Other)
with(Q29, table(q, r))
q29 <- Q29 %>%
count(q, r)
# Chunk 34
Q30 <- data2 %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, 174:Q30_6_Other) %>%
gather("q", "r", 7:Q30_6_Other)
with(Q30, table(q, r))
q30 <- Q30 %>%
count(q, r)
# Chunk 35
with(data2, summary(Q31))
# by gender
with(data2, by(Q31, PPGENDER, summary))
# Chunk 36
with(data2, summary(Q32))
# by gender
with(data2, by(Q33, PPGENDER, summary))
# Chunk 37
with(data2, summary(Q33))
# by ethnicity
with(data2, by(Q33, PPETHM, summary))
# Chunk 38
with(data2, table(Q35))
# Chunk 39
with(data2, summary(Q36))
# Chunk 40
with(data2, summary(Q37))
# Chunk 41
with(data2, summary(Q38))
# Chunk 42
with(data2, summary(Q39))
# Chunk 43
with(data2, summary(Q40))
# Chunk 44
with(data2, summary(Q41))
# Chunk 45
with(data2, summary(Q42))
# Chunk 46
with(data2, summary(Q43))
# Chunk 47
with(data2, summary(Q44))
# Chunk 48
with(data2, summary(Q45))
# Chunk 49
with(data2, summary(Q46))
# Chunk 50
with(data2, summary(Q47))
# Chunk 51
with(data2, summary(Q48))
# Chunk 52
with(data2, summary(Q49))
# Chunk 53
with(data2, summary(Q50))
=======
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE)
# data2
source("data_cleaning.R")
setwd("~/git/banana-phone/work")
library(dplyr)
library(tidyr)
library(ggplot2)
library(psych)
#library(foreign)
# data2 <- read.csv("surveydata2.csv", stringsAsFactors = FALSE,
#                 na = c("#NULL!", "", "Refused"))
# unweighted data2 -- what is the difference?
#data2_unw <- read.csv("surveydata2_unw.csv", na = c("#NULL!", ""))
#data2_unw <- read.spss("data2file.sav", to.data2.frame = TRUE)
ggplot(data2[!is.na(data2$Q1), ]) + geom_bar(mapping = aes(x = Q1, fill = Q1))
source("data_cleaning.R")
install.packages("car")
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE)
# data2
source("data_cleaning.R")
setwd("~/git/banana-phone/work")
library(dplyr)
library(tidyr)
library(ggplot2)
library(psych)
#library(foreign)
# data2 <- read.csv("surveydata2.csv", stringsAsFactors = FALSE,
#                 na = c("#NULL!", "", "Refused"))
# unweighted data2 -- what is the difference?
#data2_unw <- read.csv("surveydata2_unw.csv", na = c("#NULL!", ""))
#data2_unw <- read.spss("data2file.sav", to.data2.frame = TRUE)
sick %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, Q7_1_Bus:Q7_otherText) %>%
gather("q", "r", Q7_1_Bus:Q7_7_Other)
sick <- filter(data2, Q2=='Yes')
sick %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, Q7_1_Bus:Q7_otherText) %>%
gather("q", "r", Q7_1_Bus:Q7_7_Other)
sick = sick %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, Q7_1_Bus:Q7_otherText) %>%
gather("q", "r", Q7_1_Bus:Q7_7_Other)
View(sick)
count(q, r)
sick %>%
group_by(q, r)
count(q, r)
sick <- filter(data2, Q2=='Yes')
sick <- sick %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, Q7_1_Bus:Q7_otherText) %>%
gather("q", "r", Q7_1_Bus:Q7_7_Other)
group_by(q, r)
sick <- sick %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, Q7_1_Bus:Q7_otherText) %>%
gather("q", "r", Q7_1_Bus:Q7_7_Other) %>%
group_by(q, r)
sick <- filter(data2, Q2=='Yes')
sick <- sick %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, Q7_1_Bus:Q7_otherText) %>%
gather("q", "r", Q7_1_Bus:Q7_7_Other) %>%
group_by(q, r)
sick %>%
count(q, r)
View(sick)
with(sick, table(q))
with(sick, table(q, r))
with(sick, prop.table(table(q, r)))
sick <- data2 %>%
filter(Q2=='Yes')
sick %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, Q7_1_Bus:Q7_otherText) %>%
gather("q", "r", Q7_1_Bus:Q7_7_Other) %>%
group_by(q, r)
sick %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, Q7_1_Bus:Q7_otherText) %>%
gather("q", "r", Q7_1_Bus:Q7_7_Other) %>%
group_by(q, r) %>%
count(q, r)
sick %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, Q7_1_Bus:Q7_otherText) %>%
gather("q", "r", Q7_1_Bus:Q7_7_Other) %>%
count(q, r)
sick %>%
count(q, r)
sick %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, Q7_1_Bus:Q7_otherText) %>%
gather("q", "r", Q7_1_Bus:Q7_7_Other) %>%
group_by(q, r) %>%
count(q, r)
with(sick, prop.table(table(q, r)))
sick <- data2 %>%
filter(Q2=='Yes')
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, Q7_1_Bus:Q7_otherText) %>%
gather("q", "r", Q7_1_Bus:Q7_7_Other) %>%
group_by(q, r) %>%
count(q, r)
sick <- data2 %>%
filter(Q2=='Yes')
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, Q7_1_Bus:Q7_otherText) %>%
gather("q", "r", Q7_1_Bus:Q7_7_Other) %>%
group_by(q, r) %>%
count(q, r)
sick <- data2 %>%
filter(Q2=='Yes')
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, Q7_1_Bus:Q7_otherText) %>%
gather("q", "r", Q7_1_Bus:Q7_7_Other) %>%
group_by(q, r)
sick <- data2 %>%
filter(Q2=='Yes') %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, Q7_1_Bus:Q7_otherText) %>%
gather("q", "r", Q7_1_Bus:Q7_7_Other) %>%
group_by(q, r)
sick <- data2 %>%
filter(Q2=='Yes') %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, Q7_1_Bus:Q7_otherText) %>%
gather("q", "r", Q7_1_Bus:Q7_7_Other) %>%
group_by(q, r) %>%
count(q, r)
sick
with(sick, prop.table(table(q, r)))
with(sick, table(q, r)
)
with(sick, table(q, r))
sick <- data2 %>%
filter(Q2=='Yes') %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, Q7_1_Bus:Q7_otherText) %>%
gather("q", "r", Q7_1_Bus:Q7_7_Other) %>%
group_by(q, r)
with(sick, table(q, r))
with(sick, prop.table(table(q, r)))
with(sick, table(q, r))
sick1 <- data2 %>%
filter(Q2=='Yes')
sick <- data2 %>%
filter(Q2=='Yes')
sick1 <- sick %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, Q7_1_Bus:Q7_otherText) %>%
gather("q", "r", Q7_1_Bus:Q7_7_Other) %>%
group_by(q, r)
with(sick1, table(q, r))
with(sick1, prop.table(table(q, r)))
sick %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK) %>%
count(PPGENDER, r)
sick %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK) %>%
count(PPGENDER)
count(PPGENDER, PPINCIMP)
sick %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK) %>%
count(PPGENDER, PPINCIMP)
sick %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK) %>%
summarize(PPGENDER)
sick %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK) %>%
summarize(n = count())
sick %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK) %>%
group_by(PPGENDER) %>%
summarize(n = count())
sick %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK) %>%
group_by(PPGENDER) %>%
summarize(n = count(n))
sick %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK) %>%
group_by(PPGENDER) %>%
summarize(count(n))
sick1 <- sick %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, Q7_1_Bus:Q7_otherText) %>%
gather("q", "r", Q7_1_Bus:Q7_7_Other) %>%
group_by(PPGENDER, q, r) %>%
summarise(n = n())
View(sick1)
sick1 <- sick %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, Q7_1_Bus:Q7_otherText) %>%
gather("q", "r", Q7_1_Bus:Q7_7_Other) %>%
group_by(q, r, PPGENDER) %>%
summarise(n = n())
sick1
sick1 <- sick %>%
select(PPGENDER, PPAGE, PPEDUC, PPETHM, PPINCIMP, PPWORK, Q7_1_Bus:Q7_otherText) %>%
gather("q", "r", Q7_1_Bus:Q7_7_Other) %>%
group_by(PPGENDER, q, r) %>%
summarise(n = n())
sick1
with(sick1, table(q, r))
with(sick, table(Q2))
with(sick, table(PPGENDER))
with(sick, table(PPINCIMP))
with(sick, prop.table(table(PPGENDER)))
# of those sick, 56% were female, 43% were male
with(sick, prop.table(table(PPGENDER)))
with(sick, table(PPINCIMP))
with(data2, table(Q2))
with(data2, table(Q2, PPGENDER))
with(data2, table(Q2))
with(data2, table(Q2, PPGENDER))
with(sick, table(PPGENDER))
with(sick, prop.table(table(PPGENDER)))
with(data2, table(PPINCIMP))
with(data2, table(Q2, PPINCIMP))
with(data2, table(PPINCIMP, Q2))
with(data2, prop.table(table(PPINCIMP, Q2)))
with(data2, table(PPINCIMP, Q2))
with(data2, prop.table(table(PPINCIMP, Q2)))
with(data2, prop.table(table(PPINCIMP, Q2)), margin = 1)
with(data2, table(Q2))
with(data2, table(Q2, PPGENDER))
with(data2, addmargins(table(Q2, PPGENDER)))
with(sick, prop.table(table(PPGENDER)))
with(data2, table(PPINCIMP, Q2))
with(data2, addmargins(table(PPINCIMP, Q2)))
with(data2, prop.table(table(PPINCIMP, Q2)), margin = 1)
>>>>>>> b2626b0d486b6e74c10eef32bf632e0c12a44332
